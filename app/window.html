<!doctype html>
<html>
	<head>
		<title>Chromadex</title>
		<script src="../vendor/requirejs/require.js"></script>
		<script src="../vendor/jquery/dist/jquery.min.js"></script>
		<script src="../vendor/flot/jquery.flot.js"></script>
		<script src="../vendor/flot/jquery.flot.time.js"></script>
		<script src="time.js"></script>
		<script src="app.js"></script>
		<script src="receiver.js"></script>
		<link rel="stylesheet" href="/vendor/bootstrap/dist/css/bootstrap.min.css">
		<script src="/vendor/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="/vendor/bootstrap/js/dropdown.js"></script>
		<script src="/lib/bootstrap-confirmation.js"></script>
		<meta name = "viewport" content = "initial-scale = 1, user-scalable = no">
		<style>
			canvas{
			}
			body {
				background-color: #222;
				padding-top: 60px;
			}
			html {
				overflow-y: scroll;
			}

			#dexcomtrend {
				width: 100%;
				height: 100%;
			}
			#cgmnow {
				width: 30%;
				float: left;
				font-size: 18pt;
				text-align: right;
				color: #fff;
			}
			#cgmdirection {
				font-size: 18pt;
				color: #888;
				width: 15%;
			}
			#cgmtime {
				width: 35%;
				color: #888;
			}
			#openreports {
				width: 20%;
			}
			#optionsui {
				display: none;
			}
			.tab-content form {
				background-color: #eee;
			}
		</style>
	</head>
	<body>
		<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">Chromadex</a>
				</div>
				<div class="navbar-collapse collapse" role="navigation">
					<ul class="nav navbar-nav">
						<li><a href="#">Receiver</a></li>
						<li><a href="#" id="openoptions">Options</a></li>
						<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports</a>
							<ul class="dropdown-menu" role="menu">
								<li><a href="#" id="menudailystats">Daily Stats</a></li>
								<!-- li><a href="#" id="menudailytrends">Daily Trends (not built)</a></li -->
								<li><a href="#" id="menudistribution">Distribution</a></li>
								<!-- li><a href="#" id="menuglucosetrends">Glucose Trends (not built)</a></li -->
								<li><a href="#" id="menuhourlystats">Hourly Stats</a></li>
								<!-- li><a href="#" id="menusuccessreport">Success Report (not built)</a></li -->
								<!-- li><a href="#" id="menuinsights">Trends and Insights (not built)</a></li-->
							</ul>
						</li>
					</ul>
					<form class="navbar-form navbar-right" role="form" action="javascript:void">
						<button type="submit" class="btn btn-primary" id="import" data-placement="bottom" data-tooltip="You usually only need to download once. Chromadex automatically gets the last 18h data, but this will download everything else (So if you plugged in yesterday, no need to do this. If you plugged in last week, go ahead)">Download all</button>
						<button type="submit" class="btn btn-danger" id="reset" data-placement="bottom" data-tooltip="Are you sure you want to reset? This cannot be undone.">Reset</button>
					</form>
				</div><!--/.navbar-collapse -->
			</div>
		</div>
		<div class="container" id="receiverui">
			<div class="row">
				<div class="container col-xs-10" style="background-color:#222; height:250px;">
					<div id="dexcomtrend"></div>
				</div>
				<div class="container col-xs-2">
					<div id="cgmnow"></div>
					<div id="cgmdirection"></div>
					<div id="cgmtime"></div>
				</div>
			</div>
		</div>
		<div class="container" id="optionsui">
			<div class="row" role="form">
				<button class="btn btn-primary pull-right" id="savesettings">Save Settings</button>
				<button class="btn btn-primary pull-right" id="resetchanged">Undo Changes</button>
				<ul class="nav nav-tabs">
					<li class="nav active"><a href="#optionsdatabase" data-toggle="tab">Mongolab</a></li>
					<li class="nav"><a href="#optionsserial" data-toggle="tab">Serial Port</a></li>
					<li class="nav"><a href="#optionsunits" data-toggle="tab">Units</a></li>
					<li class="nav"><a href="#optionstarget" data-toggle="tab">Range</a></li>
				</ul>
				<div class="tab-content">
					<form class="tab-pane active form-horizontal" id="optionsdatabase">
						<div class="well well-sm"><p class="bg-info">If you use #DIYPS or Nightscout, you'll want data stored in Mongolab.</p></div>
						<div class="form-group">
							<label for="options-database-name" class="col-sm-3 control-label">Database Name</label>
							<div class=" col-sm-8"><input class="form-control" type="text" name="mongolab.database" id="options-database-name" placeholder="database from Mongolab" /></div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label" for="options-database-collection">Collection Name</label>
							<div class="col-sm-8"><input class="form-control" type="text" name="mongolab.collection" id="options-database-collection" placeholder="collection from Mongolab" /></div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label" for="options-database-apiuser">API User</label>
							<div class="col-sm-8"><input class="form-control" type="text" name="mongolab.apikey" id="options-database-apiuser" placeholder="API user from Mongolab" />
							<p>Find API key via <a href="http://docs.mongolab.com/restapi/#authentication" target="_blank">Mongolab's documentation</a>.</p></div>
						</div>
						<div class="form-group">
							<button class="btn btn-primary" id="testconnection">Test Mongolab Connection</button>
						</div>
					</form>
					<form class="tab-pane form-horizontal" id="optionsserial">
						<div class="well well-sm"><p class="bg-info">If you have multiple serial devices, you may need to pick a serial port. Probably not. But maybe. It's considered a match if a found serial port starts with this listed name.</p></div>
						<div class="form-group">
							<label for="options-serialport-dev" class="col-sm-3 control-label">Serial Port</label>
							<div class="col-sm-8"><input class="form-control" type="text" name="serialport" id="options-serialport-dev" /></div>
						</div>
						<ul id="serialportlist"></ul>
					</form>
					<form class="tab-pane form-horizontal" id="optionsunits">
						<div class="form-group">
							<label class="col-sm-3 control-label" for="options-unit">Display Unit</label>
							<div class="col-sm-8"><select class="form-control" type="text" name="unit" id="options-unit">
								<option value="mgdl" selected>mg/dL</option>
								<option value="mmol">mmo/L</option>
							</select></div>
						</div>
					</form>
					<form class="tab-pane form-horizontal" id="optionstarget">
						<div class="well well-sm"><p class="bg-info">Enter these numbers in mg/dL even if you have this configured to otherwise use mmo/L. </p></div>
						<div class="form-group">
							<label for="options-range-low" class="col-sm-3 control-label">Low (in mg/dL)</label>
							<div class=" col-sm-8"><input class="form-control" type="number" name="targetrange.low" id="options-range-low" placeholder="What do you consider low?" /></div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label" for="options-range-high">High (in mg/dL)</label>
							<div class="col-sm-8"><input class="form-control" type="number" name="targetrange.high" id="options-range-high" placeholder="What do you consider high?" /></div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</body>
</html>
